{% extends "base.html.twig" %}

    {% block logo %}
        <a href="{{ path('index')}}"><img id="logo" src="{{asset('/img/logo.png')}}" alt="IP13" height="60" width="60"></a><span>IP13</span>
    {% endblock %}

    {% block content %}

        <script src="Chart.js"></script>

        <aside id = "chapter">
            <h1> Reseau </h1>
            <ul>
                {% for cour in cours %}
                    <li class="chapterName"><a href="{{ path('progressionCours', {"id": cour.id}) }}">{{ cour.nom }}</a></li>
                {% endfor %}
            </ul>
        </aside>
        <section>
            <article>
                <header>
                    <h1>Votre progression dans le cours {{ cour.nom }}</h1>
                    <hr>
                </header>
                <div class="content">
                    <ul>
                        {% set moyenne=0 %}
                        {% set nbrNote=0 %}

                        {% for note in cour.notes %}
                            {% if note.eleve == app.user %}
                                <li class="chapterName">Note : {{ note.valeur }}</li>
                                {% set moyenne =  moyenne  +  note.valeur %}
                                {% set nbrNote =  nbrNote  + 1 %}
                            {% endif %}
                        {% endfor %}
                    </ul>

                    {% set moyenne = moyenne/nbrNote  %}

                    <p>Moyenne : {{ moyenne }}</p>

                    <!-- <div style="width:100%">
                        <canvas id="canvas" height="450" width="600"></canvas>
                    </div>
                    <script src="jquery-2.2.0.js"></script>
                 <script>
                        var valeurs = [];

                        $.get('{{ path('recupNotes') }}', function(data) {

                            for (var note in data) {

                                valeurs.push(note.valeur);
                            }

                            console.log(valeurs);

                        });

                        var randomScalingFactor = function(){ return Math.round(Math.random()*100)};
                        var lineChartData = {
                            labels : ["January","February","March","April","May","June","July"],
                            datasets : [
                                {
                                    label: "My First dataset",
                                    fillColor : "rgba(220,220,220,0.2)",
                                    strokeColor : "rgba(220,220,220,1)",
                                    pointColor : "rgba(220,220,220,1)",
                                    pointStrokeColor : "#fff",
                                    pointHighlightFill : "#fff",
                                    pointHighlightStroke : "rgba(220,220,220,1)",
                                    data : valeurs
                                }/*,
                                {
                                    label: "My Second dataset",
                                    fillColor : "rgba(151,187,205,0.2)",
                                    strokeColor : "rgba(151,187,205,1)",
                                    pointColor : "rgba(151,187,205,1)",
                                    pointStrokeColor : "#fff",
                                    pointHighlightFill : "#fff",
                                    pointHighlightStroke : "rgba(151,187,205,1)",
                                    data : [randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),          randomScalingFactor(),randomScalingFactor()]
                                }*/
                            ]

                        }

                    window.onload = function(){
                        var ctx = document.getElementById("canvas").getContext("2d");
                        window.myLine = new Chart(ctx).Line(lineChartData, {
                            responsive: true
                        });

                    }


                    </script> -->
                </div>
            </article>
        </section>
    {% endblock %}